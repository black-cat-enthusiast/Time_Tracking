c <- left_join(b,a,by="Date") %>%
group_by(Date) %>%
summarise(
Hours=sum(Hours)
)%>%
mutate(Month = lubridate::month(Date,abb=TRUE,label=TRUE),
Day = lubridate::day(Date)) %>%
ggplot(aes(x=Month,y=Day,colour=Hours,fill=Hours))+
geom_tile()
# Chunk 1: setup
library(flexdashboard)
library(tidyverse)
library(reshape2)
library(lubridate)
library(viridis)
library(calendR)
data <- read_csv("JLB_time.csv")
data$Project[is.na(data$Project)] <- ""
data$Hours[is.na(data$Hours)] <- 0
# Chunk 2
a <- Sys.Date()
data %>%
ggplot(aes(x=Date,y=Hours,colour=Project,fill=Project))+
geom_bar(stat="identity")+
theme_classic()+
labs(
y="Number of Hours"
)+
ylim(0,5)
# Chunk 3
data %>%
na.omit() %>%
group_by(Project) %>%
select(Project,Description,Hours) %>%
knitr::kable()
# Chunk 4
data %>%
mutate(month = lubridate::month(Date,abbr = TRUE,label=TRUE)) %>%
group_by(month,Project) %>%
summarise(Hours = sum(Hours)) %>%
ggplot(aes(month,Hours,fill=Project))+
geom_col()+
theme_classic()
# Chunk 5
a <- data %>%
select(c("Date","Hours"))
b <- data.frame(
Date = seq(as.Date("2024-06-24"), as.Date("2025-06-24"), by="days")
)
c <- left_join(b,a,by="Date") %>%
group_by(Date) %>%
summarise(
Hours=sum(Hours)
)%>%
mutate(Month = lubridate::month(Date,abb=TRUE,label=TRUE),
Day = lubridate::day(Date)) %>%
ggplot(aes(x=Month,y=Day,colour=Hours,fill=Hours))+
geom_tile()
c
data %>%
group_by(Date) %>%
summarise(sum=sum(Hours)) %>%
ggplot(aes(x=Date,y=sum))+
geom_tile()+
theme_classic()
c <- left_join(b,a,by="Date") %>%
group_by(Date) %>%
summarise(
Hours=sum(Hours)
)%>%
mutate(Month = lubridate::month(Date,abb=TRUE,label=TRUE),
Day = lubridate::day(Date)) %>%
ggplot(aes(x=Month,y=Day,colour=Hours,fill=Hours))+
geom_tile()+
theme_classic()
c
c <- left_join(b,a,by="Date") %>%
group_by(Date) %>%
summarise(
Hours=sum(Hours)
)%>%
mutate(Month = lubridate::month(Date,abb=TRUE,label=TRUE),
Day = lubridate::day(Date)) %>%
ggplot(aes(x=Day,y=Month,colour=Hours,fill=Hours))+
geom_tile()+
theme_classic()
c
c <- left_join(b,a,by="Date") %>%
group_by(Date) %>%
summarise(
Hours=sum(Hours)
)%>%
mutate(Month = lubridate::month(Date,abb=TRUE,label=TRUE),
Day = lubridate::day(Date))
View(c)
c$Hours[is.na(c$Hours)] <- 0
View(c)
c %>%
ggplot(aes(x=Day,y=Month,colour=Hours,fill=Hours))+
geom_tile()+
theme_classic()
cols <- c("white","pink")
c %>%
ggplot(aes(x=Day,y=Month,colour=Hours,fill=Hours))+
geom_tile()+
theme_classic()+
scale_fill_manual(values=cols)
cols <- c("white","pink")
c %>%
ggplot(aes(x=Day,y=Month,colour=Hours,fill=Hours))+
geom_tile()+
theme_classic()+
scale_fill_manual(values=cols)
c %>%
ggplot(aes(x=Day,y=Month,colour=Hours,fill=Hours))+
geom_tile()+
coord_fixed()+
theme_classic()
c
c %>%
ggplot(aes(x=Day,y=Month,colour="white",fill=Hours))+
geom_tile()+
coord_fixed()+
theme_classic()
c %>%
ggplot(aes(x=Day,y=Month,colour="white",fill=Hours))+
geom_tile()+
coord_fixed()+
theme_classic()+
labs(
x="Days",y="Months",colour=NULL
)
c %>%
ggplot(aes(x=Day,y=Month,fill=Hours))+
geom_tile(colour="white")+
coord_fixed()+
theme_classic()+
labs(
x="Days",y="Months",colour=NULL
)
c %>%
ggplot(aes(x=Day,y=Month,fill=Hours))+
geom_tile(colour="white")+
geom_text(aes(label=Hours),colour="white",size=4)
c %>%
ggplot(aes(x=Day,y=Month,fill=Hours))+
geom_tile(colour="white")+
geom_text(aes(label=Hours),colour="white",size=4)+
coord_fixed()+
theme_classic()+
labs(
x="Days",y="Months",colour=NULL
)
c %>%
ggplot(aes(x=Day,y=Month,fill=Hours))+
geom_tile(colour="white")+
scale_fill_gradient(low="white",high="pink")
c %>%
ggplot(aes(x=Day,y=Month,fill=Hours))+
geom_tile(colour="white")+
scale_fill_gradient(low="white",high="pink")+
geom_text(aes(label=Hours),colour="white",size=4)+
coord_fixed()+
theme_classic()+
labs(
x="Days",y="Months",colour=NULL
)
c %>%
ggplot(aes(x=Day,y=Month,fill=Hours))+
geom_tile(colour="white")+
scale_fill_gradient(low="white",high="purple")+
geom_text(aes(label=Hours),colour="white",size=4)+
coord_fixed()+
theme_classic()+
theme(plot.title = element_text(hjust=0.5))+
labs(
x="Days",y="Months",colour=NULL, Title="June 2024-June 2025"
)
data %>%
ggplot(aes(x=Date,y=Hours,colour=Project,fill=Project))+
geom_bar(stat="identity")+
scale_color_brewer(palette = "PuOr")+
scale_fill_brewer(palette = "PuOr")+
theme_classic()+
labs(
y="Number of Hours"
)+
ylim(0,5)
data %>%
mutate(month = lubridate::month(Date,abbr = TRUE,label=TRUE)) %>%
group_by(month,Project) %>%
summarise(Hours = sum(Hours))
data %>%
mutate(month = lubridate::month(Date,abbr = TRUE,label=TRUE)) %>%
group_by(month,Project) %>%
summarise(Hours = sum(Hours)) %>%
ggplot(aes(month,Hours,fill=Project))+
geom_col()+
theme_classic()
data %>%
na.omit()
data %>%
na.omit() %>%
ggplot(aes(x=Date,y=Hours,colour=Project,fill=Project))+
geom_bar(stat="identity")+
scale_color_brewer(palette = "PuOr")+
scale_fill_brewer(palette = "PuOr")+
theme_classic()+
labs(
y="Number of Hours"
)+
ylim(0,5)
a <- yday("2024-08-19")
events <- rep(NA,366)
a <- yday("2024-08-19")
b <- "Botox & Spasticity Clinic"
events[a] <- b
calendR(year = 2024,
special.days = events,
special.col = c("purple"),
legend.pos = "right",
orientation = "p")
calendR(year = 2025)
calendR(year = 2025,
special.col = c("purple"),
legend.pos = "right",
orientation = "p")
View(data)
View(data)
data$Weeks <- lubridate::week()
data$Weeks <- lubridate::week(data$Date)
View(data)
a <- lubridate::week(Sys.Date())
data$Weeks <- lubridate::week(data$Date)
a <- lubridate::week(Sys.Date())
b <- data[data$Weeks == a, ]
b %>%
na.omit() %>%
ggplot(aes(x=Date,y=Hours,colour=Project,fill=Project))+
geom_bar(stat="identity")+
scale_color_brewer(palette = "PuOr")+
scale_fill_brewer(palette = "PuOr")+
theme_classic()+
labs(
y="Number of Hours"
)+
ylim(0,5)
